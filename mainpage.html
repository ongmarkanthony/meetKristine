<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meet Kristine - Admin Page</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;500&family=Raleway:wght@100&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
</head>
<style>
body {font-family: Arial, Helvetica, sans-serif;}
* {box-sizing: border-box;}

.open-button {
  background-color: #555;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  opacity: 0.8;
  position: fixed;
  bottom: 23px;
  right: 28px;
  width: 280px;
}

/* The popup chat - hidden by default */
.chat-popup {
  display: none;
  position: fixed;
  bottom: 0;
  right: 15px;
  border: 3px solid #f1f1f1;
  z-index: 9;
}

/* Add styles to the form container */
.form-container {
  max-width: 300px;
  padding: 10px;
  background-color: white;
}

/* Full-width textarea */
.form-container textarea {
  width: 100%;
  padding: 15px;
  margin: 5px 0 22px 0;
  border: none;
  background: #f1f1f1;
  resize: none;
  min-height: 200px;
}

/* When the textarea gets focus, do something */
.form-container textarea:focus {
  background-color: #ddd;
  outline: none;
}

/* Set a style for the submit/send button */
.form-container .btn {
  background-color: #04AA6D;
  color: white;
  padding: 16px 20px;
  border: none;
  cursor: pointer;
  width: 100%;
  margin-bottom:10px;
  opacity: 0.8;
}

/* Add a red background color to the cancel button */
.form-container .cancel {
  background-color: red;
}

/* Add some hover effects to buttons */
.form-container .btn:hover, .open-button:hover {
  opacity: 1;
}
</style>
<body>
    <button class="btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions"
        aria-controls="offcanvasWithBothOptions"><i class="fa-solid fa-bars fa-bounce"></i></button>
    
    <div class="offcanvas offcanvas-start" style="background-color: #5840BA;" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions"
        aria-labelledby="offcanvasWithBothOptionsLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title text-white" id="offcanvasWithBothOptionsLabel">Meet Kristine</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item"></li>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active text-white" aria-current="page" href="./login.html"><i class="fa-sharp fa-solid fa-house"></i> Home</i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active text-white" href="./userpage.html"><i class="fa-solid fa-user"></i> Profile</a>
                    </li>
                    <form class="d-flex" role="search">
                        <input class="form-control me-1" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success text-white" type="submit">Search</button>
                    </form>
                    <hr>
                    <ul class="nav flex-column">
                        <li class="nav-item dropdown">
                            <a class="nav-link active dropdown-toggle text-white" href="#" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false"><i class="fa-solid fa-users-line"></i>
                                People
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="./directory.html">All</a></li>
                                <li><a class="dropdown-item" href="./onboarding.html">Onboarding</a></li>
                                <li><a class="dropdown-item" href="./directory.html">Employee Directory</a></li>

                                <li class="nav-item">
                                    <a class="nav-link disabled">Setting</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link active dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown" 
                            aria-expanded="false"><i class="fa-sharp fa-solid fa-building"></i>
                                Company
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item " href="./overview.html">Overview</a></li>
                                <li><a class="dropdown-item " href="./location.html">Location</a></li>
                                <li><a class="dropdown-item " href="#">Setting</a></li>
                            </ul>
                        </li>                                         
                        <li>
                            <a class="nav-link text-white" href="#"><i class="fa-regular fa-calendar-days"></i> Calendar</a>
                        </li>                            
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active text-white" href="./report.html"><i class="fa-sharp fa-solid fa-signal"></i> Reports</a>
                        </li>
                        <li>
                            <a class="nav-link text-white" href="./index.html">Logout</a>
                        </li>
                    </ul>
                </ul>
            </ul>
        </div>
    </div>
       <!----selection start----->
    <header>
        <div class="row justify-content-evenly">
            <div class="col d-flex flex-column align-items-start justify-content-between" style="width: 100%; background-color: #5840BA;">
                <div class="card">
                    <img src="./kristine.png" id="Image1" style="height: 200px ; width: 200px ; background-color: #5840BA;"/>
                </div>
            </div>
        </div>
            <div class="container mt-5">
                <div class="row justify-content-evenly ">
                    <div class="col-4 d-flex flex-column align-items-start justify-content-between">
                        <div class="card">
                            <h5 class="text-center">Attrition Report</h5>
                            <canvas id="ReportChart" style="width:300px; height: 300px;"></canvas>
                        </div>
                    </div>
            
                    <div class="col-4 d-flex flex-column align-items-start justify-content-between">
                        <div class="card">
                            <h5 class="text-center">New Hires Report</h5>
                            <canvas id="newHiresPerMonth" style="width: 300px;height: 300px;"></canvas>
                        </div>
                    </div>

                    <div class="col-4 d-flex flex-column align-items-start justify-content-between">
                        <div class="card">
                            <h5 class="text-center">Resigned Employees Report</h5>
                            <canvas id="resignedEmployeesPerMonth" style="width: 300px;height: 300px;"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="chat-popup" id="chatForm">
                    <form action="/action_page.php" class="form-container">
                      <h1>Chat</h1>
                  
                      <label for="msg"><b>Message</b></label>
                      <textarea placeholder="Type message.." name="msg" required></textarea>
                  
                      <button type="submit" class="btn">Send</button>
                      <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
                    </form>
                </div>
            </div>
    </header>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const last3MonthsData = {
            xValues: ["Site A", "Site B", "Site C", "Site D", "Site E", "Site F"],
            newHires: [30, 28, 25, 20, 15],
            resignedEmployees: [5, 3, 4, 2, 0, 3],
        };

        const currentMonthData = {
            xValues: ["Site A", "Site B", "Site C", "Site D", "Site E", "Site F"],
            newHires: [10, 8, 7, 5, 3, 2],
            resignedEmployees: [2, 1, 1, 0, 0, 1],
        };

        const newHiresDiff = currentMonthData.newHires.map((value, index) => value - last3MonthsData.newHires[index]);
        const resignedEmployeesDiff = currentMonthData.resignedEmployees.map((value, index) => value - last3MonthsData.resignedEmployees[index]);

        const barColors = {
            newHires: "green",
            resignedEmployees: "red",
        };

        new Chart("ReportChart", {
            type: "bar",
            data: {
                labels: currentMonthData.xValues,
                datasets: [
                    {
                        label: "New Hires",
                        backgroundColor: barColors.newHires,
                        data: newHiresDiff,
                    },
                    {
                        label: "Resigned Employees",
                        backgroundColor: barColors.resignedEmployees,
                        data: resignedEmployeesDiff,
                    },
                ],
            },
            options: {
                title: {
                    display: true,
                    text: "New Hires and Resigned Employees Comparison (Last 3 Months to Current Month)",
                },
                scales: {
                    xAxes: [{ stacked: true }],
                    yAxes: [{ stacked: true }],
                },
                legend: {
                    display: true,
                },
            },
        });
// newhires//
        const months = ["January", "February", "March", "April", "May", "June"];
        const newHiresPerMonth = [10, 8, 7, 5, 3, 2];
        const NewHireBarColors = ["red", "green"];

        new Chart("newHiresPerMonth", {
            type: "bar",
            data: {
                labels: months,
                datasets: [{
                    backgroundColor: NewHireBarColors,
                    data: newHiresPerMonth
                }]
            },
            options: {
                legend: { display: false },
                title: {
                    display: true,
                    text: "New Hires Monthly Report"
                }
            }
        });

//Resigned Employees//
const resignedEmployeesPerMonth = [2, 1, 1, 0, 0, 1]; // Update with the appropriate data for resigned employees.
const ResignedEmployeeBarColors = ["red", "green"]; // You can modify the colors if needed.

new Chart("resignedEmployeesPerMonth", {
    type: "bar",
    data: {
        labels: months, // Corrected variable name from currentMonths to months.
        datasets: [{
            backgroundColor: ResignedEmployeeBarColors,
            data: resignedEmployeesPerMonth
        }]
    },
    options: {
        legend: { display: false },
        title: {
            display: true,
            text: "Resigned Employees Monthly Report" // Update the title here.
        }
    }
});

//Chat Button//

function openForm() {
  document.getElementById("chatForm").style.display = "block";
}

function closeForm() {
  document.getElementById("chatForm").style.display = "none";
}
</script> 
     
  <script src="./index.js"></script>   
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>

